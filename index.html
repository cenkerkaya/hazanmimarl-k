<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hazan – Eser</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f1115;
      --card: #171a21;
      --text: #e9eef6;
      --muted: #9aa4b2;
      --accent: #7aa2f7;
      --radius: 16px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 20% -10%, #1b2030 0%, #0f1115 60%) fixed;
      color: var(--text);
      min-height: 100dvh; display: grid; place-items: center;
      padding: 24px;
    }
    .shell {
      width: min(960px, 100%); background: color-mix(in oklab, var(--card) 92%, black 8%);
      border: 1px solid #272c38; border-radius: var(--radius);
      box-shadow: 0 10px 40px rgba(0,0,0,.4), inset 0 1px 0 rgba(255,255,255,.02);
      overflow: hidden;
    }
    header {
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      padding: 18px 22px; border-bottom: 1px solid #232838;
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
    }
    header .brand { font-weight: 600; letter-spacing: .2px; }
    header .id { color: var(--muted); font-size: 14px }
    .media-wrap {
      position: relative; background:#0b0d12;
      aspect-ratio: 16/9; width: 100%; display: grid; place-items: center;
    }
    .media-wrap img, .media-wrap video {
      max-width: 100%; max-height: 75vh; border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0,0,0,.45);
    }
    .content { padding: 22px; display: grid; gap: 10px; }
    h1 { font-size: clamp(20px, 2.2vw, 28px); margin: 0 0 4px 0; }
    .meta { color: var(--muted); font-size: 14px; }
    .desc { line-height: 1.7; color: #cbd5e1; margin-top: 6px; }
    .actions { display:flex; gap:10px; margin-top: 12px;}
    .btn {
      border: 1px solid #2a3142; background: #141823; color: var(--text);
      padding: 10px 14px; border-radius: 10px; font-size: 14px; cursor: pointer;
    }
    .btn:hover { border-color:#3b4560; background:#1a2030 }
    .notice {
      padding: 18px 22px; color:#e2e8f0; background:#1a2030; border-top:1px solid #242b3d;
      display:none;
    }
    .oops {
      padding: 28px; text-align: center;
    }
    .oops h2 { margin: 0 0 6px 0 }
    .oops a { color: var(--accent); text-decoration: none; }
  </style>
</head>
<body>
  <div class="shell" id="app">
    <header>
      <div class="brand">Hazan Architecture</div>
      <div class="id" id="idLabel"></div>
    </header>

    <div class="media-wrap" id="mediaArea" aria-live="polite"></div>

    <section class="content">
      <h1 id="title">Eser</h1>
      <div class="meta" id="meta"></div>
      <div class="desc" id="desc"></div>
      <div class="actions">
        <button class="btn" id="openOriginal" style="display:none">Orijinal Dosyayı Aç</button>
        <button class="btn" id="backHome" onclick="window.location.href='./index.html'">Ana Sayfa</button>
      </div>
    </section>

    <div class="notice" id="notice"></div>
  </div>

  <script>
    // ---- DATA: Buraya istediğin kadar eser ekle ----
    const DATA = {
      // Görsel örneği
      "arada-panoya": {
        type: "image",
        title: "ARADA – Sunum Panosu",
        artist: "Hazan Mimarlık",
        year: "2025",
        src: "media/arada-panoya.jpg",
        desc: "Bienal için üretilen konsept panonun tam çözünürlüklü görseli.",
      },
      // Video örneği
      "isik-senaryosu": {
        type: "video",
        title: "Işık Senaryosu (Gece Modu)",
        artist: "Hazan Mimarlık",
        year: "2025",
        src: "media/isik-senaryosu.mp4",
        poster: "media/isik-senaryosu-poster.jpg",
        muted: true, autoplay: true, loop: true, controls: true,
        desc: "Ekranlardan yayılan ışık ve boru gölgeleriyle tanımlanan atmosferin video kaydı."
      },
      // Başka bir görsel
      "render-01": {
        type: "image",
        title: "Konsept Render",
        artist: "Hazan Mimarlık",
        year: "2025",
        src: "media/render-01.jpg",
        desc: "Paslı boru örgüsünün küpü nasıl sardığını ve ölçek karşılığını gösteren render."
      }
    };

    // ---- Yardımcılar ----
    const qs = new URLSearchParams(location.search);
    const id = qs.get("id");
    const app = document.getElementById("app");
    const mediaArea = document.getElementById("mediaArea");
    const idLabel = document.getElementById("idLabel");
    const titleEl = document.getElementById("title");
    const metaEl = document.getElementById("meta");
    const descEl = document.getElementById("desc");
    const openOriginalBtn = document.getElementById("openOriginal");
    const notice = document.getElementById("notice");

    function oops() {
      app.innerHTML = `
        <div class="oops">
          <h2>İçerik bulunamadı</h2>
          <p>URL’deki <code>id</code> geçersiz. Lütfen QR kodu kontrol edin.</p>
          <p><a href="./index.html">Ana sayfaya dön</a></p>
        </div>`;
    }

    // ---- Render ----
    (function main() {
      idLabel.textContent = id ? "ID: " + id : "ID yok";
      if (!id || !DATA[id]) { oops(); return; }

      const item = DATA[id];
      titleEl.textContent = item.title || "Eser";
      metaEl.textContent = [item.artist, item.year].filter(Boolean).join(" · ");
      descEl.textContent = item.desc || "";

      // Medya
      if (item.type === "video") {
        const v = document.createElement("video");
        if (item.controls !== false) v.setAttribute("controls", "");
        if (item.autoplay) v.setAttribute("autoplay", "");
        if (item.loop) v.setAttribute("loop", "");
        if (item.muted) v.muted = true; // mobilde autoplay için genelde zorunlu
        if (item.poster) v.setAttribute("poster", item.poster);
        v.playsInline = true;

        const src = document.createElement("source");
        src.src = item.src;
        src.type = "video/mp4";
        v.appendChild(src);
        mediaArea.replaceChildren(v);

        // Autoplay uyarısı
        v.addEventListener("play", () => notice.style.display = "none");
        v.addEventListener("pause", () => {
          notice.textContent = "Video durduruldu. Oynatmak için play’e basın.";
          notice.style.display = "block";
        });
        v.addEventListener("error", () => {
          notice.textContent = "Video yüklenemedi. Dosya yolunu kontrol edin.";
          notice.style.display = "block";
        });

      } else {
        const img = new Image();
        img.alt = item.title || "Eser";
        img.loading = "lazy";
        img.src = item.src;
        img.addEventListener("error", () => {
          notice.textContent = "Görsel bulunamadı. Dosya yolunu kontrol edin.";
          notice.style.display = "block";
        });
        mediaArea.replaceChildren(img);
      }

      // Orijinal dosyayı yeni sekmede aç
      if (item.src) {
        openOriginalBtn.style.display = "inline-flex";
        openOriginalBtn.onclick = () => window.open(item.src, "_blank");
      }
    })();
  </script>
</body>
</html>
